---
layout: post
title: "The joys of pipx"
permalink: "pipx"
date: 24-05-2024
categories: Blog
---

This will be a short blog post as there isn't much to it but recently I was chatting to other testers on Discord and there were some intricacies of pipx that they were unfamiliar with so I thought I would share them. 


### What is pipx?

For those of you who may not know what it is, pipx is a tool for installing and running Python applications in isolated environments. It's especially useful for command-line tools written in Python that you want to use globally without polluting your system Python environment or managing virtual environments manually. 

It can be a god send for not breaking your Linux Python setup when managing lots of Python tools. To install it you simply execute these commands which will update your shell allowing your pipx virtual environment commands to be executed from wherever you are:

{% highlight powershell %}
python3 -m pip install --user pipx
python3 -m pipx ensurepath
{% endhighlight %}

### How do I use pipx?

Now that you have it installed you will want to reinstall some of those tools you may already have stored in virtual environments. Here are the various ways I use it and keep in mind when you add a suffix to for example Certipy of -dcom you then run it like this 'certipy-dcom find...' etc.

Take the latest released version of a tool
`pipx install impacket`

Take the latest version from the repo that may not be released yet
`pipx install git+https://github.com/fortra/impacket.git`

Installing a branch plus renaming it to avoid a clash:  
`pipx install --suffix=-dcom 'git+https://github.com/qtc-de/Certipy.git@feat/support-req-via-dcom'`

Installing an older version of a tool and adding a suffix  
`pipx install --suffix=-v2 git+https://github.com/p0dalirius/smbclient-ng.git@2.1.6`

Injecting libraries into a pipx venv such as ldap3 which Certipy previously needed for ldaps (now fixed)
`pipx inject certipy-ad git+https://github.com/ly4k/ldap3 --force`

Upgrading all your pipx venvs after a Kali upgrade  
`pipx reinstall-all`

Upgrade all your packages to their latest  
`pipx upgrade-all`

Install a tool plus any dependencies. To be honest ROADtools is the only one that needed this  
`pipx install git+https://github.com/dirkjanm/ROADtools.git --include-deps`

List what I have installed
`pipx list`

Reinstall my tools on a new device:
`pipx list --json > pipx.json`
`cat pipx.json | jq '.venvs.[].metadata.main_package.package_or_url' -r | xargs pipx install`


So there you have it, next time someone releases a Python tool that contains more than a few standalone Python scripts request for them to also make it pipx compatible (by including a pyproject.toml or setup.py script) to make everybody's lives easier.












